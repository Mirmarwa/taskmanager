{% extends 'base.html.twig' %}

{% block title %}Notifications{% endblock %}

{% block body %}
<h1 class="mb-4">ðŸ”” Notifications</h1>

{% if notifications is empty %}
    <p class="text-muted">Aucune notification</p>
{% else %}
    <ul class="list-group">
        {% for notif in notifications %}
            <li class="list-group-item d-flex justify-content-between align-items-center
                {% if not notif.isRead %}list-group-item-warning{% endif %}">

                <div>
                    <strong>
                        {% if not notif.isRead %}
                            (Nouveau)
                        {% endif %}
                    </strong>
                    {{ notif.message }}
                </div>

                <div class="text-end">
                    <small class="text-muted d-block">
                        {{ notif.createdAt|date('d/m/Y H:i') }}
                    </small>

                    {% if not notif.isRead %}
                        <a href="{{ path('app_notification_read', {id: notif.id}) }}"
                           class="btn btn-sm btn-outline-success mt-1">
                            Marquer comme lue
                        </a>
                    {% endif %}
                </div>

            </li>
        {% endfor %}
    </ul>
{% endif %}
{% endblock %}
